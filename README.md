# Лабораторная работа №2. Основы работы с массивами, функциями и объектами в JavaScript

## Цель работы

Изучить основы работы с массивами и функциями в JavaScript, применяя их для обработки и анализа транзакций.

## Примечание

Задания, помеченные `[extra]`, выполняются студентом дополнительно для получения более высокой оценки.

## Условие

Создайте консольное приложение для анализа транзакций.

### Шаг 1. Создание массива транзакций

1. Создайте файл `main.js` для размещения вашего кода.
2. Создайте массив объектов с транзакциями. Каждая транзакция должна содержать следующие свойства:

   - `transaction_id` - уникальный идентификатор транзакции.
   - `transaction_date` - дата транзакции.
   - `transaction_amount` - сумма транзакции.
   - `transaction_type` - тип транзакции (приход или расход).
   - `transaction_description` - описание транзакции.
   - `merchant_name` - название магазина или сервиса.
   - `card_type` - тип карты (кредитная или дебетовая).

   > ![](/assets/screenshots/Screenshot_1.png)


### Шаг 2. Реализация функций для анализа транзакций

Реализуйте следующие функции для анализа транзакций.

1. `getUniqueTransactionTypes(transactions)`
   - Возвращает массив уникальных типов транзакций.
   - Используйте `Set()` для выполнения задания.
2. `calculateTotalAmount(transactions)` – Вычисляет сумму всех транзакций.
3. `calculateTotalAmountByDate(transactions, year, month, day)` _[extra]_
   - Вычисляет общую сумму транзакций за указанный год, месяц и день.
   - Параметры year, month и day являются необязательными.
   - В случае отсутствия одного из параметров, метод производит расчет по остальным.
   > ![](/assets/screenshots/Screenshot_2.png)
4. `getTransactionByType(transactions, type)` - Возвращает транзакции указанного типа (`debit` или `credit`).
5. `getTransactionsInDateRange(transactions, startDate, endDate)` – Возвращает массив транзакций, проведенных в указанном диапазоне дат от `startDate` до `endDate`.
6. `getTransactionsByMerchant(transactions, merchantName)` – Возвращает массив транзакций, совершенных с указанным `merchantName`.
   > ![](/assets/screenshots/Screenshot_3.png)
7. `calculateAverageTransactionAmount(transactions)` – Возвращает среднее значение транзакций.
8. `getTransactionsByAmountRange(transactions, minAmount, maxAmount)` – Возвращает массив транзакций с суммой в заданном диапазоне от `minAmount` до `maxAmount`.
9. `calculateTotalDebitAmount(transactions)` – Вычисляет общую сумму дебетовых транзакций.
   > ![](/assets/screenshots/Screenshot_4.png)
10. `findMostTransactionsMonth(transactions)` – Возвращает месяц, в котором было больше всего транзакций.
11. `findMostDebitTransactionMonth(transactions)` – Возвращает месяц, в котором было больше дебетовых транзакций.
12. `mostTransactionTypes(transactions)`
    - Возвращает каких транзакций больше всего.
    - Возвращает `debit`, если дебетовых.
    - Возвращает `credit`, если кредитовых.
    - Возвращает `equal`, если количество равно.
   > ![](/assets/screenshots/Screenshot_5.png)
13. `getTransactionsBeforeDate(transactions, date)` – Возвращает массив транзакций, совершенных до указанной даты.
14. `findTransactionById(transactions, id)` – Возвращает транзакцию по ее уникальному идентификатору (`id`).
15. `mapTransactionDescriptions(transactions)` – Возвращает новый массив, содержащий только описания транзакций.
   > ![](/assets/screenshots/Screenshot_6.png)

### Шаг 3. Тестирование функций

1. Создайте массив транзакций и протестируйте все функции.
2. Выведите результаты в консоль.
3. Проверьте работу функций на различных наборах данных.
   > ![](/assets/screenshots/Screenshot_7.png)
   > ![](/assets/screenshots/Screenshot_8.png)
4. Проверьте работу функций на пустом массиве транзакций _[extra]_.
   > ![](/assets/screenshots/Screenshot_9.png)
5. Проверьте работу функций на массиве транзакций с одной транзакцией _[extra]_.
   > ![](/assets/screenshots/Screenshot_10.png)

## Документирование кода

Код должен быть корректно задокументирован, используя стандарт `JSDoc`. Каждая функция и метод должны быть описаны с указанием их входных параметров, выходных данных и описанием функционала. Комментарии должны быть понятными, четкими и информативными, чтобы обеспечить понимание работы кода другим разработчикам.
   > ![](/assets/screenshots/Screenshot_11.png)

   > [!NOTE]
   > Пример документации по стандарту ***JSDoc***

## Контрольные вопросы
1. Какие методы массивов можно использовать для обработки объектов в JavaScript?
   > Для обработки массивов объектов в JavaScript можно использовать следующие методы массивов:<br><br>- **filter()**: Создает новый массив, содержащий только те элементы, которые удовлетворяют условию, заданному в функции.<br>- **reduce()**: Применяет функцию к каждому элементу массива, накапливая результат. Полезен для вычисления суммы, агрегации данных и т.д.<br>- **find()**: Возвращает первый элемент массива, который удовлетворяет условию, заданному в функции.<br>- **some()**: Проверяет, удовлетворяет ли хотя бы один элемент массива условию, заданному в функции.<br>- **every()**: Проверяет, удовлетворяют ли все элементы массива условию, заданному в функции.<br>- **forEach()**: Выполняет функцию для каждого элемента массива. Не возвращает новый массив.<br>- **sort()**: Сортирует элементы массива на основе функции сравнения.<br>- **slice()**: Возвращает новый массив, содержащий копию части исходного массива.<br>- **concat()**: Объединяет два или более массива в один.<br>- **flatMap()**: Комбинирует *map()* и *flat()*, применяя функцию к каждому элементу и "выравнивая" результат на один уровень.
   
2. Как сравнивать даты в строковом формате в JavaScript?
   > Даты в строковом формате (например, "YYYY-MM-DD") можно сравнивать, преобразовав их в объекты Date или используя лексикографическое сравнение строк.
   ```
   const date1 = new Date("2023-01-01");
   const date2 = new Date("2023-01-02");

   if (date1 < date2) {
      console.log("date1 раньше date2");
   } else if (date1 > date2) {
      console.log("date1 позже date2");
   } else {
      console.log("date1 и date2 равны");
   }
   ```
   > Если строки дат имеют формат "YYYY-MM-DD", их можно сравнивать напрямую, так как они уже отсортированы лексикографически:
   ```
   const date1 = "2023-01-01";
   const date2 = "2023-01-02";

   if (date1 < date2) {
      console.log("date1 раньше date2");
   } else if (date1 > date2) {
      console.log("date1 позже date2");
   } else {
      console.log("date1 и date2 равны");
   }
   ```
3. В чем разница между `map()`, `filter()` и `reduce()` при работе с массивами объектов?
   > **map()**<br>- Назначение: Преобразует каждый элемент массива и возвращает новый массив той же длины.<br>- Возвращаемое значение: Новый массив, содержащий результаты применения функции к каждому элементу.
   ```
   const amounts = transactions.map(t => t.transaction_amount);
   // Возвращает массив сумм всех транзакций.
   ```
   > **filter()**<br>- Назначение: Фильтрует элементы массива на основе условия и возвращает новый массив, содержащий только те элементы, которые удовлетворяют условию.<br>- Возвращаемое значение: Новый массив, содержащий отфильтрованные элементы.
   ```
   const debitTransactions = transactions.filter(t => t.transaction_type === "debit");
   // Возвращает массив дебетовых транзакций.
   ```
   > **reduce()**<br>- Назначение: Применяет функцию к каждому элементу массива, накапливая результат. Используется для агрегации данных (например, суммирование, нахождение среднего значения).<br>- Возвращаемое значение: Единое значение, полученное в результате агрегации.
   ```
   const totalAmount = transactions.reduce((total, t) => total + t.transaction_amount, 0);
   // Возвращает общую сумму всех транзакций.
   ```
